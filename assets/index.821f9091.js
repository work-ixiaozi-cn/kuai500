var e=Object.defineProperty,t=(t,r,n)=>(((t,r,n)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n})(t,"symbol"!=typeof r?r+"":r,n),n);import{z as r,u as n,L as o,$ as i}from"./index.cf819d24.js";class s{constructor(){t(this,"handlers",[])}use(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}forEach(e,t=!1){if(t)for(let r=this.handlers.length-1;r>=0;r--)null!==this.handlers[r]&&e(this.handlers[r]);else for(let r=0,n=this.handlers.length;r<n;r++)null!==this.handlers[r]&&e(this.handlers[r])}}const a=Object.prototype.toString;function c(e){return"[object Array]"===a.call(e)}function l(e){return"[object Object]"===a.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),c(e))for(let r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function d(...e){const t={};for(let r=0,n=e.length;r<n;r++)l(e[r])&&u(e[r],((e,r)=>{t[r]=p(t[r],e)}));return t}function p(e,t){return l(e)&&l(t)?d(e,t):l(t)?d({},t):c(t)?t.slice():t}function h(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function f(e,t){let r;const n=[];if(u(t,((e,t)=>{null!=e&&(c(e)?t+="[]":e=[e],u(e,(e=>{null!==e&&"object"==typeof e&&(e=JSON.stringify(e)),n.push(h(t)+"="+h(e))})))})),r=n.join("&"),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}function g({baseURL:e,url:t,params:r,query:n}={}){let o=function(e="",t=""){return/^https?:\/\//.test(t)?t:t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t);return r||n?(r&&(/\/:/.test(o)?u(r,((e,t)=>{o=o.replace(`/:${t}`,`/${h(String(e))}`)})):n||(o=f(o,r))),n&&(o=f(o,n)),o):o}function m(e={},t={}){const r={};return u(Object.keys({...e,...t}),(n=>{void 0!==t[n]?r[n]=p(e[n],t[n]):void 0!==e[n]&&(r[n]=p(void 0,e[n]))})),r}async function b(...e){let t={};for(let r=0,n=e.length;r<n;r++){t=m(t,"function"==typeof e[r]?await e[r]():e[r])}return t.method=t.method.toUpperCase(),t}const v=["get","post","put","delete","connect","head","options","trace"],y=["common",...v],j={adapter:function(e){return new Promise(((t,n)=>{var o;const i=r({...e,complete:r=>{const o={config:e,...r};!e.validateStatus||e.validateStatus(r.statusCode)?t(o):n(o)}});null==(o=e.fetcher)||o.resolve(i)}))},header:{},method:"GET",validateStatus:e=>e>=200&&e<300};function O(e){return e.url=g(e),e.method=(e.method||"get").toUpperCase(),e.header=d(e.header.common,e.header[e.method.toLowerCase()],e.header),u(y,(t=>l(e.header[t])&&delete e.header[t])),u(e,((t,r)=>["success","fail","complete"].includes(r)&&delete e[r])),e.adapter(e)}u(y,(e=>j.header[e]={}));const w=Symbol("$$cancel");function P(e){return null!=e&&Object.prototype.hasOwnProperty.call(e,w)}function C(e){return Promise.reject({[w]:e})}function D(e){return Promise.reject(P(e)?e[w]:e)}function R(e){function t(r,n,o){const i="string"==typeof r?{...o,url:r,data:n}:{...r},s=[O,C];t.interceptors.request.forEach((({fulfilled:e,rejected:t})=>s.unshift(e,t)),!0),t.interceptors.response.forEach((({fulfilled:e,rejected:t})=>s.push(e,function(e){return e&&(t=>P(t)?Promise.reject(t):e(t))}(t))),!1),s.unshift((t=>b(j,e,t)),void 0),s.push(void 0,D);let a=Promise.resolve(i);for(;s.length;)a=a.then(s.shift(),s.shift());return a}return t.config=Object.freeze("object"==typeof e?d(e):e),t.defaults=j,t.interceptors={request:new s,response:new s},t.getURL=async function(t){return g(await b(j,e,t)).replace(/^\?/,"")},u(v,(e=>{t[e]=function(r,n,o){return"string"==typeof r?t(r,n,{...o,method:e}):t({...r,method:e})}})),t}const S=Symbol("$$promise");class ${get[Symbol.toStringTag](){return"[object Fetcher]"}constructor(){this[S]=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}async source(){return this[S]}async abort(){var e;null==(e=await this.source())||e.abort()}}const L=R();L.create=function(e){return R(e)},L.Fetcher=$;const U=L.create({baseURL:"http://192.168.201.129:8008",timeout:5e3,headers:{}});U.interceptors.request.use((e=>e={...e,header:{Authorization:`Bearer ${n().token}`,"Accept-Language":o(),"Version-Name":i().appVersion,"Version-Code":i().appVersionCode,"Device-Os":i().osName,"Device-Platform":i().uniPlatform,"Device-Id":i().deviceId,"Device-Model":i().deviceModel,"Device-Type":i().deviceType,"Device-Orientation":i().deviceOrientation,"Device-Brand":i().deviceBrand,"Device-PixelRatio":i().devicePixelRatio}}),(e=>Promise.reject(e)));const{get:x,post:B,head:_}=U,q={login:e=>B("/auth/login",e),init:()=>x("/init"),version:()=>x("/version"),order:e=>x("/order",e),orderCreate:e=>B("/order/create",e),goods:e=>x("/goods",e),pay:e=>x("/order/pay",e),pintuan:e=>x("/pintuan",e),pintuanOpen:e=>B("/pintuan/open",e),pintuanJoin:e=>B("/pintuan/join",e),pintuanFind:e=>x("/pintuan/find",e),pintuanFindByCode:e=>x("/pintuan/find_by_code",e),ip:e=>x(e,{baseURL:""}),bindReferer:e=>B("/user/bind_referer",e),changePassword:e=>B("/user/change_password",e),message:(e={})=>x("/message",e),messageRead:(e={})=>B("/message/read",e),distribute:(e={})=>x("/distribute",e),distributeRecord:(e={page:1,per_page:15})=>x("/distribute/record",e),distributeCash:(e={})=>x("/distribute/cash",e),distributeDraw:(e={})=>B("/distribute/draw",e),help:e=>x("/help/",e)};export{q as a};
