import{A as e,_ as a}from"./layout.660ec434.js";import{d as s,r as l,o as t,c as r,w as o,a as u,b as d,t as n,u as p,e as c,f as i,i as m,g as _,h as f,j as g,_ as x}from"./index.cf819d24.js";import{_ as h,a as b,b as v}from"./uni-forms.c1e1db30.js";import{a as j}from"./index.821f9091.js";import{g as V}from"./router.6937c411.js";import"./uni-icons.ba5e75da.js";import"./uni-card.36ed251a.js";import"./logo.79283f64.js";import"./page.vue_vue_type_script_setup_true_lang.e73b259d.js";import"./uni-link.c29c8c27.js";const w=x(s({__name:"login",setup(s){const x=l({data:{tel_prefix:"+86",user_name:"13812340116",user_password:"Kuai5000",captcha:""},rules:{tel_prefix:{rules:[{required:!0,errorMessage:"请选择前缀"}]},user_name:{rules:[{required:!0,errorMessage:"请输入手机号"}]},user_password:{rules:[{required:!0,errorMessage:"请输入密码"}]}}}),w=()=>{j.login(x.value.data).then((e=>{console.log({res:e}),0==e.data.code&&(console.log(e.data.data),p().setToken(e.data.data.token),console.log(p().token),V("/pages/home/index").then((e=>{console.log({goto:e})})).catch((e=>{console.log({err:e})})))}))};return(s,l)=>{const p=c(i("uni-data-select"),a),j=m,V=c(i("uni-easyinput"),h),k=c(i("uni-forms-item"),b),y=_,$=c(i("uni-forms"),v),q=f,C=g;return t(),r(e,{class:"login"},{default:o((()=>[u($,{class:"px-5 pt-5",modelValue:s.loginForm,rules:x.value.rules},{default:o((()=>[u(k,{class:"border-b-1px flex",name:"user_name"},{default:o((()=>[u(j,{class:"flex"},{default:o((()=>[u(j,{class:"w-60px"},{default:o((()=>[u(p,{class:"border-0",border:!1,clear:!1,modelValue:x.value.data.tel_prefix,"onUpdate:modelValue":l[0]||(l[0]=e=>x.value.data.tel_prefix=e),localdata:["+86","+01","+23","+38"].map((e=>({value:e,text:e}))),onChange:s.change},null,8,["modelValue","localdata","onChange"])])),_:1}),u(V,{class:"flex-auto",inputBorder:!1,type:"text",rules:x.value.rules.user_name,modelValue:x.value.data.user_name,"onUpdate:modelValue":l[1]||(l[1]=e=>x.value.data.user_name=e),placeholder:s.$t("auth['请输入手机号']")},null,8,["rules","modelValue","placeholder"])])),_:1})])),_:1}),u(k,{class:"border-b-1px",name:"user_password"},{default:o((()=>[u(V,{inputBorder:!1,type:"password",modelValue:x.value.data.user_password,"onUpdate:modelValue":l[2]||(l[2]=e=>x.value.data.user_password=e),placeholder:s.$t("auth['请输入密码']")},null,8,["modelValue","placeholder"])])),_:1}),u(k,{class:""},{default:o((()=>[u(y,{class:"p-0 float-right text-gray-400 !bg-transparent"},{default:o((()=>[d(n(s.$t("auth['忘记密码']")),1)])),_:1})])),_:1}),u(k,{class:""},{default:o((()=>[u(y,{class:"submit w-4/5 block mx-auto py-10px text-18px rounded-full text-black font-medium","hover-class":"none",onClick:w},{default:o((()=>[d(n(s.$t("auth['登 录']")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","rules"]),u(j,{class:"mt-30px mb-20px text-center"},{default:o((()=>[u(q,null,{default:o((()=>[d(n(s.$t("auth['注册领取礼包']"))+",",1)])),_:1}),u(C,{class:"text-red-300 inline",url:"/pages/auth/register"},{default:o((()=>[d(n(s.$t("auth['马上注册']")),1)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-54dd2e1c"]]);export{w as default};
