import{a4 as t,_ as e,a5 as s,a6 as i,o as a,c as o,w as n,T as l,P as r,V as c,O as u,i as d,e as h,f as p,a7 as m,a as f,F as g,a8 as y,b,t as x,h as k,a1 as w,d as _,r as v,a9 as C,aa as S,U as $,g as T,ab as D,$ as M,ac as P,N as z,R as A,Q as I,u as B,ad as j}from"./index.cf819d24.js";import{_ as Y}from"./coupon.67a8a00c.js";import{_ as E}from"./page.vue_vue_type_script_setup_true_lang.e73b259d.js";import{_ as F}from"./status_bar.vue_vue_type_script_setup_true_lang.c9c059a2.js";import{_ as W}from"./uni-icons.ba5e75da.js";import{_ as H}from"./share_outlined.652bbf78.js";import{d as L}from"./tools.1a322396.js";import{h as N}from"./moment.9709ab41.js";import{_ as O}from"./uni-link.c29c8c27.js";import{g as U}from"./router.6937c411.js";import{a as X}from"./index.821f9091.js";class R{constructor(e,s){this.options=e,this.animation=t({...e}),this.currentStepAnimates={},this.next=0,this.$=s}_nvuePushAnimates(t,e){let s=this.currentStepAnimates[this.next],i={};if(i=s||{styles:{},config:{}},G.includes(t)){i.styles.transform||(i.styles.transform="");let s="";"rotate"===t&&(s="deg"),i.styles.transform+=`${t}(${e+s}) `}else i.styles[t]=`${e}`;this.currentStepAnimates[this.next]=i}_animateRun(t={},e={}){let s=this.$.$refs.ani.ref;if(s)return new Promise(((i,a)=>{nvueAnimation.transition(s,{styles:t,...e},(t=>{i()}))}))}_nvueNextAnimate(t,e=0,s){let i=t[e];if(i){let{styles:a,config:o}=i;this._animateRun(a,o).then((()=>{e+=1,this._nvueNextAnimate(t,e,s)}))}else this.currentStepAnimates={},"function"==typeof s&&s(),this.isEnd=!0}step(t={}){return this.animation.step(t),this}run(t){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof t&&t()}),this.$.durationTime)}}const G=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function V(t,e){if(e)return clearTimeout(e.timer),new R(t,e)}G.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((t=>{R.prototype[t]=function(...e){return this.animation[t](...e),this}}));const Z=e({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""},onceRender:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(t){t?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let t={...this.styles,"transition-duration":this.duration/1e3+"s"},e="";for(let s in t){e+=this.toLine(s)+":"+t[s]+";"}return e},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(t={}){t.duration&&(this.durationTime=t.duration),this.animation=V(Object.assign(this.config,t),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(t,e={}){if(this.animation){for(let e in t)try{"object"==typeof t[e]?this.animation[e](...t[e]):this.animation[e](t[e])}catch(s){console.error(`方法 ${e} 不存在`)}return this.animation.step(e),this}},run(t){this.animation&&this.animation.run(t)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:t,transform:e}=this.styleInit(!1);void 0!==t&&(this.opacity=t),this.transform=e,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=V(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(t){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:e}=this.styleInit(!1);this.opacity=t||1,this.transform=e,this.$emit("change",{detail:this.isShow})}))},styleInit(t){let e={transform:""},s=(t,s)=>{"fade"===s?e.opacity=this.animationType(t)[s]:e.transform+=this.animationType(t)[s]+" "};return"string"==typeof this.modeClass?s(t,this.modeClass):this.modeClass.forEach((e=>{s(t,e)})),e},tranfromInit(t){let e=(t,e)=>{let s=null;"fade"===e?s=t?0:1:(s=t?"-100%":"0","zoom-in"===e&&(s=t?.8:1),"zoom-out"===e&&(s=t?1.2:1),"slide-right"===e&&(s=t?"100%":"0"),"slide-bottom"===e&&(s=t?"100%":"0")),this.animation[this.animationMode()[e]](s)};return"string"==typeof this.modeClass?e(t,this.modeClass):this.modeClass.forEach((s=>{e(t,s)})),this.animation},animationType:t=>({fade:t?1:0,"slide-top":`translateY(${t?"0":"-100%"})`,"slide-right":`translateX(${t?"0":"100%"})`,"slide-bottom":`translateY(${t?"0":"100%"})`,"slide-left":`translateX(${t?"0":"-100%"})`,"zoom-in":`scaleX(${t?1:.8}) scaleY(${t?1:.8})`,"zoom-out":`scaleX(${t?1:1.2}) scaleY(${t?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:t=>t.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,e,h,p,m,f){const g=d;return m.isShow||h.onceRender?s((a(),o(g,{key:0,ref:"ani",animation:m.animationData,class:r(h.customClass),style:c(f.transformStyles),onClick:f.onClick},{default:n((()=>[l(t.$slots,"default")])),_:3},8,["animation","class","style","onClick"])),[[i,m.isShow]]):u("",!0)}]]);const K=e({name:"uniPopup",components:{keypress:{name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const t={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(e=>{if(this.disable)return;const s=Object.keys(t).find((s=>{const i=e.key,a=t[s];return a===i||Array.isArray(a)&&a.includes(i)}));s&&setTimeout((()=>{this.$emit(s,{})}),0)}))},render:()=>{}}},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(t){this.mkclick=t},immediate:!0},isMaskClick:{handler:function(t){this.mkclick=t},immediate:!0},showPopup(t){document.getElementsByTagName("body")[0].style.overflow=t?"hidden":"visible"}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:t,windowHeight:e,windowTop:s,safeArea:i,screenHeight:a,safeAreaInsets:o}=g();this.popupWidth=t,this.popupHeight=e+(s||0),i&&this.safeArea?this.safeAreaInsets=o.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(){document.getElementsByTagName("body")[0].style.overflow="visible"},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(t){t.stopPropagation(),this.clearPropagation=!0},open(t){this.showPopup&&(clearTimeout(this.timer),this.showPopup=!1);t&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(t)||(t=this.type),this.config[t]?(this[this.config[t]](),this.$emit("change",{show:!0,type:t})):console.error("缺少类型：",t)},close(t){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(t){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(t){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0)},center(t){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},t||(this.showPopup=!0,this.showTrans=!0)},left(t){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)},right(t){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,e,s,i,g,y){const b=h(p("uni-transition"),Z),x=d,k=m("keypress");return g.showPopup?(a(),o(x,{key:0,class:r(["uni-popup",[g.popupstyle,y.isDesktop?"fixforpc-z-index":""]])},{default:n((()=>[f(x,{onTouchstart:y.touchstart},{default:n((()=>[g.maskShow?(a(),o(b,{key:"1",name:"mask","mode-class":"fade",styles:g.maskClass,duration:g.duration,show:g.showTrans,onClick:y.onTap},null,8,["styles","duration","show","onClick"])):u("",!0),f(b,{key:"2","mode-class":g.ani,name:"content",styles:g.transClass,duration:g.duration,show:g.showTrans,onClick:y.onTap},{default:n((()=>[f(x,{class:r(["uni-popup__wrapper",[g.popupstyle]]),style:c({backgroundColor:y.bg}),onClick:y.clear},{default:n((()=>[l(t.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","onClick"])])),_:3},8,["mode-class","styles","duration","show","onClick"])])),_:3},8,["onTouchstart"]),g.maskShow?(a(),o(k,{key:0,onEsc:y.onTap},null,8,["onEsc"])):u("",!0)])),_:3},8,["class"])):u("",!0)}],["__scopeId","data-v-93e61352"]]);const Q=e({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},fontSize:{type:Number,default:14},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),computed:{isShowGetMore(){return!0===this.showGetMore||"true"===this.showGetMore},isShowClose(){return!(!0!==this.showClose&&"true"!==this.showClose||!1!==this.showGetMore&&"false"!==this.showGetMore)}},mounted(){this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let t=[],e=new Promise(((t,e)=>{y().in(this).select(`#${this.elId}`).boundingClientRect().exec((e=>{this.textWidth=e[0].width,t()}))})),s=new Promise(((t,e)=>{y().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((e=>{this.boxWidth=e[0].width,t()}))}));t.push(e),t.push(s),Promise.all(t).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(t,e,s,i,l,m){const g=h(p("uni-icons"),W),y=k,w=d;return l.show?(a(),o(w,{key:0,class:"uni-noticebar",style:c({backgroundColor:s.backgroundColor}),onClick:m.onClick},{default:n((()=>[!0===s.showIcon||"true"===s.showIcon?(a(),o(g,{key:0,class:"uni-noticebar-icon",type:"sound",color:s.color,size:1.5*s.fontSize},null,8,["color","size"])):u("",!0),f(w,{ref:"textBox",class:r(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":s.scrollable,"uni-noticebar__content-wrapper--single":!s.scrollable&&(s.single||s.moreText)}]),style:c({height:s.scrollable?1.5*s.fontSize+"px":"auto"})},{default:n((()=>[f(w,{id:l.elIdBox,class:r(["uni-noticebar__content",{"uni-noticebar__content--scrollable":s.scrollable,"uni-noticebar__content--single":!s.scrollable&&(s.single||s.moreText)}])},{default:n((()=>[f(y,{id:l.elId,ref:"animationEle",class:r(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":s.scrollable,"uni-noticebar__content-text--single":!s.scrollable&&(s.single||s.showGetMore)}]),style:c({color:s.color,fontSize:s.fontSize+"px",lineHeight:1.5*s.fontSize+"px",width:l.wrapWidth+"px",animationDuration:l.animationDuration,"-webkit-animationDuration":l.animationDuration,animationPlayState:l.webviewHide?"paused":l.animationPlayState,"-webkit-animationPlayState":l.webviewHide?"paused":l.animationPlayState,animationDelay:l.animationDelay,"-webkit-animationDelay":l.animationDelay})},{default:n((()=>[b(x(s.text),1)])),_:1},8,["id","class","style"])])),_:1},8,["id","class"])])),_:1},8,["class","style"]),m.isShowGetMore?(a(),o(w,{key:1,class:"uni-noticebar__more uni-cursor-point",onClick:m.clickMore},{default:n((()=>[s.moreText.length>0?(a(),o(y,{key:0,style:c({color:s.moreColor,fontSize:s.fontSize+"px"})},{default:n((()=>[b(x(s.moreText),1)])),_:1},8,["style"])):(a(),o(g,{key:1,type:"right",color:s.moreColor,size:1.1*s.fontSize},null,8,["color","size"]))])),_:1},8,["onClick"])):u("",!0),m.isShowClose?(a(),o(w,{key:2,class:"uni-noticebar-close uni-cursor-point"},{default:n((()=>[f(g,{type:"closeempty",color:s.color,size:1.1*s.fontSize,onClick:m.close},null,8,["color","size","onClick"])])),_:1})):u("",!0)])),_:1},8,["style","onClick"])):u("",!0)}],["__scopeId","data-v-00c2835a"]]),q=w({id:"notice",state:()=>({default:[]}),getters:{},actions:{setNotice(t){this.default=t}},persist:{enabled:!0}}),J=_({__name:"android_bar",setup(t){const e={"zh-CN":"简体中文","en-US":"English"},s=v({current:C().getLang(),data:Object.values(e),keys:Object.keys(e),list:{"zh-CN":"简体中文","en-US":"English"},change:t=>{s.value.current=s.value.keys[t.detail.value],C().setLang(s.value.current)}}),i=async()=>{let t=await fetch("/static/images/banner.png"),e=await t.blob(),s=new File([e],"a.png");console.log(s),await navigator.share({url:"https://uniapp.dcloud.io",text:"summary",title:"title",files:[s]})};return(t,e)=>{const l=h(p("uni-notice-bar"),Q),r=$,c=T,u=D,m=d;return a(),o(m,{class:"flex"},{default:n((()=>[f(l,{class:"flex-auto !bg-transparent !text-fff !mb-0px",text:S(q)().default.map((t=>t.notice_content)).join("".padEnd(Math.ceil(S(M)().windowWidth/8)," ")),color:"white","show-icon":"",scrollable:"",single:""},null,8,["text"]),f(m,{class:"mr-8px self-center flex flex-row gap-x-10px"},{default:n((()=>[f(c,{class:"inline px-5px py-0 bg-transparent leading-normal","hover-class":"bg-gray-400",onClick:i},{default:n((()=>[f(r,{class:"w-24px",src:H,fit:"cover",mode:"widthFix"})])),_:1}),f(u,{onChange:s.value.change,value:s.value.keys.indexOf(s.value.current),range:s.value.data},{default:n((()=>[f(r,{class:"w-24px",src:"./static/icons/earth.png",fit:"cover",mode:"widthFix"})])),_:1},8,["onChange","value","range"])])),_:1})])),_:1})}}}),tt=e(_({__name:"android_head",setup(t){const e=v({status:!!P().connected_at,during:L(P().connected_at?P().connected_at:Date.now())}),s=()=>{e.value.status=!e.value.status,P().setConnected(e.value.status)};return e.value.status&&setInterval((()=>{e.value.during=L(P().connected_at?P().connected_at:Date.now())}),1e3),(t,i)=>{const l=d,c=$,h=T,p=k;return a(),o(l,{class:""},{default:n((()=>[f(l,{class:r(["header power border-0 overflow-visible",e.value.status?"connected ":"unconnected"])},{default:n((()=>[f(l,{class:"power_content relative text-center text-fff h-317px"},{default:n((()=>[f(l,{class:"power_expire text-16px leading-20px h-0px overflow-hidden"},{default:n((()=>[f(l,null,{default:n((()=>[b(x(t.$t("home.expire"))+"："+x(S(N)(S(P)().expire_time).format("YYYY-MM-DD hh:mm:ss")),1)])),_:1})])),_:1}),f(l,{class:"relative"},{default:n((()=>[f(h,{class:"power_ball overflow-visible relative shadow-2px shadow-red-300 bg-red-200 rounded-full mx-auto border-white border-16px w-225px h-225px flex my-10px bg-radial-gradient from-00d393 to-05c0b1",onClick:s},{default:n((()=>[f(c,{class:"w-90px rounded-full h-90px mx-auto self-center block img-rotate",src:`/static/images/home_${e.value.status?"on":"off"}.png`,fit:"cover",mode:"widthFix"},null,8,["src"]),f(l,{class:"power_status absolute left-0 w-full bottom-25px"},{default:n((()=>[b(x(t.$t("home.unconnected")),1)])),_:1})])),_:1})])),_:1}),f(l,{class:"power_time text-16px text-gray-700 h-0px overflow-hidden font-semibold"},{default:n((()=>[e.value.status?(a(),o(l,{key:0},{default:n((()=>[f(p,null,{default:n((()=>[b("已连接")])),_:1}),e.value.during.days>0?(a(),o(p,{key:0},{default:n((()=>[b(x(e.value.during.days)+"日",1)])),_:1})):u("",!0),e.value.during.hours>0?(a(),o(p,{key:1},{default:n((()=>[b(x(e.value.during.hours)+"时",1)])),_:1})):u("",!0),e.value.during.minutes>0?(a(),o(p,{key:2},{default:n((()=>[b(x(e.value.during.minutes)+"分",1)])),_:1})):u("",!0),f(p,null,{default:n((()=>[b(x(e.value.during.seconds)+"秒",1)])),_:1})])),_:1})):u("",!0)])),_:1}),f(l,{class:"power_version text-14px leading-20px overflow-hidden"},{default:n((()=>[f(l,null,{default:n((()=>[b(x(t.$t("home.expire"))+"："+x(S(N)(S(P)().expire_time).format("YYYY-MM-DD hh:mm:ss")),1)])),_:1}),f(l,null,{default:n((()=>[b(x(t.$t("home.version"))+"："+x(S(M)().appVersion),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1})}}}),[["__scopeId","data-v-da72ed72"]]),et=w({id:"link",state:()=>({default:[]}),getters:{},actions:{setLink(t){this.default=t}},persist:{enabled:!0}}),st=_({__name:"android_link",setup:t=>(t,e)=>{const s=$,i=d,l=h(p("uni-link"),O);return a(),o(i,{class:"grid grid-cols-4 gap-y-20px"},{default:n((()=>[(a(!0),z(I,null,A(S(et)().default,((t,e)=>(a(),o(l,{class:"",showUnderLine:"false",key:e,href:t.url},{default:n((()=>[f(i,null,{default:n((()=>[f(s,{class:"block mx-auto w-40px h-40px",src:t.icon,fit:"cover",mode:"widthFix"},null,8,["src"])])),_:2},1024),f(i,{class:"text-center"},{default:n((()=>[b(x(t.name),1)])),_:2},1024)])),_:2},1032,["href"])))),128))])),_:1})}}),it=_({__name:"android",setup:t=>(t,e)=>{const s=d,i=$,l=T;return a(),o(E,{class:"h-tab-page"},{bottom:n((()=>[f(l,{class:"mx-1/10 mb-15px",onClick:e[0]||(e[0]=t=>S(U)("/pages/shopping/index"))},{default:n((()=>[f(i,{class:"!w-full",src:Y,fit:"cover",mode:"widthFix"})])),_:1})])),default:n((()=>[f(s,{class:r(["from-00d393 to-05c0b1 bg-gradient-to-br rounded-b-20px duration-1000",S(P)().connected_at?"rounded-b-68px mb-100px":"rounded-b-20px mb-0px"])},{default:n((()=>[f(F),f(J),f(tt)])),_:1},8,["class"]),f(st,{class:"mt-20px"})])),_:1})}}),at=_({__name:"dialog2",props:{title:{type:String,default:""},content:{type:String,default:[]},actions:{type:Array,default:[]},popup:{}},setup(t){const e=t;return(t,s)=>{const i=d,r=T,h=$;return a(),o(i,{style:c({width:7*S(M)().windowWidth/10+"px"})},{default:n((()=>[f(i,{class:"!overflow-visible bg-fff rounded-10px text-center"},{default:n((()=>[f(i,null,{default:n((()=>[(null==e?void 0:e.title)?u("",!0):(a(),o(i,{key:0,class:"h-30px"})),f(r,{class:"inline absolute bg-transparent top-0 right-0 !border-0 text-30px px-5px text-gray-300 !leading-none z-66","hover-class":"bg-transparent text-gray-400",onClick:s[0]||(s[0]=t=>{var s;return null==(s=null==e?void 0:e.popup)?void 0:s.close()})},{default:n((()=>[b("×")])),_:1})])),_:1}),l(t.$slots,"header",{},(()=>[(null==e?void 0:e.title)?(a(),o(i,{key:0,class:"relative mb-15px"},{default:n((()=>[f(i,{class:"text-center relative -top-25px -mb-25px"},{default:n((()=>[f(i,{class:"w-70px h-70px bg-red-100 mx-auto rounded-full flex justify-center border-5px border-fff"},{default:n((()=>[f(h,{class:"w-30px h-30px self-center",src:"./static/icons/warning.png",fit:"cover",mode:"widthFix"})])),_:1}),f(i,{class:"py-10px text-20px"},{default:n((()=>[b(x(null==e?void 0:e.title),1)])),_:1})])),_:1})])),_:1})):u("",!0)])),l(t.$slots,"body",{},(()=>[f(i,{class:"m-15px mt-0 text-gray-700 text-14px",innerHTML:null==e?void 0:e.content},null,8,["innerHTML"])])),l(t.$slots,"footer",{},(()=>[f(i,{class:"flex py-20px"},{default:n((()=>[(a(!0),z(I,null,A(null==e?void 0:e.actions,((t,e)=>(a(),o(i,{class:"flex-1",key:e},{default:n((()=>[f(r,{class:"bg-fed32a rounded-full py-5px w-4/5 mx-auto text-14px",style:c(t.style),onClick:t.callback},{default:n((()=>[b(x(t.title),1)])),_:2},1032,["style","onClick"])])),_:2},1024)))),128))])),_:1})]))])),_:3})])),_:3},8,["style"])}}}),ot=_({__name:"index",setup(t){const e=v(),s=v({title:"aaaaaaaaaaaaa",content:"bb bbbbbbb bbbbsssssss xccccccccccc",actions:[{title:"联系客服",style:"",callback:()=>e.value.close()},{title:"刷新试试",style:"",callback:()=>e.value.close()}]});X.init().then((t=>{0==t.data.code&&(P().setService(t.data.data.service_info),B().setUser(t.data.data.user_info),j().setVersion(t.data.data.version_info),q().setNotice(t.data.data.notice_info),et().setLink(t.data.data.favorite_links),j().should_update&&i())}));const i=()=>{let t=[{title:"这就去",style:"",callback:()=>window.open(j().download)}];j().force_update||t.unshift({title:"下次一定",style:"background-color: #aaa;color:#fff",callback:()=>e.value.close()}),s.value={title:"升级提醒",content:j().description,actions:t},e.value.open()};return(t,i)=>{const l=h(p("uni-popup"),K),r=d;return a(),o(r,null,{default:n((()=>[f(it),f(l,{ref_key:"popup",ref:e,type:"center",onChange:t.change,"is-mask-click":!1},{default:n((()=>[f(at,{popup:e.value,title:s.value.title,content:s.value.content,actions:s.value.actions},null,8,["popup","title","content","actions"])])),_:1},8,["onChange"])])),_:1})}}});export{ot as default};
