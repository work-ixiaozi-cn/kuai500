import{d as a,ah as e,r as s,e as t,f as l,o as r,c as u,w as n,a as o,b as d,t as i,aa as _,a5 as c,a6 as m,i as p,a2 as f,N as g,R as x,Q as v,ai as b}from"./index.cf819d24.js";import{_ as h}from"./page.vue_vue_type_script_setup_true_lang.e73b259d.js";import{_ as y}from"./nav_bar.vue_vue_type_script_setup_true_lang.c285c6a0.js";import{_ as j}from"./uni-card.36ed251a.js";import{h as w}from"./moment.9709ab41.js";import{a as Y}from"./index.821f9091.js";import"./uni-nav-bar.6de95021.js";import"./uni-icons.ba5e75da.js";const k=a({__name:"message_card",setup(a){const f=e(),g=s(0==f.status),x=()=>{g.value&&Y.messageRead({id:f.user_message_id}).then((a=>{0==a.data.code&&(g.value=!1)}))};return(a,e)=>{const s=p,v=t(l("uni-card"),j);return r(),u(s,null,{default:n((()=>[o(v,{class:"!rounded-10px !hover:bg-gray-100",padding:"0",margin:"0","is-shadow":!1,onClick:x},{title:n((()=>[o(s,{class:"flex justify-between py-5px"},{default:n((()=>[o(s,null,{default:n((()=>[d(i(_(f).title),1)])),_:1}),c(o(s,{class:"w-5px h-5px bg-red-500 rounded-full mt-5px"},null,512),[[m,g.value]])])),_:1})])),default:n((()=>[o(s,{class:"text-gray-700 text-14px leading-normal"},{default:n((()=>[d(i(_(f).body),1)])),_:1}),o(s,{slot:"actions",class:"card-actions"},{default:n((()=>[o(s,{class:"text-gray-500 text-12px leading-loose text-right"},{default:n((()=>[d(i(_(w)(1e3*_(f).create_time).format("YYYY-MM-DD hh:mm:ss")),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),C=a({__name:"message",setup(a){const e=s([]);return Y.message().then((a=>{0==a.data.code&&(e.value=f.sortBy(a.data.data,"status"),console.log(e.value))})),(a,s)=>{const t=p;return r(),u(h,null,{navbar:n((()=>[o(y,{title:a.$t("ucenter['消息中心']"),backgroundColor:"#03a976",fixed:""},null,8,["title"])])),default:n((()=>[o(t,null,{default:n((()=>[(r(!0),g(v,null,x(e.value,((a,e)=>(r(),u(k,b({class:"!m-15px",key:e},a),null,16)))),128))])),_:1})])),_:1})}}});export{C as default};
